{
  "Name": "{{serviceName}}",
  "TaskTemplate": {
    "ContainerSpec": {
      "Image": "{{dockerImage}}"
    },
    "RestartPolicy": {
      "Condition": "on-failure",
      "MaxAttempts": 10
    },
    "networks" : [ {
      "target" : "traefik"
    } ]
  },
  "Mode": {
    "Replicated": {
      "Replicas": 2
    }
  },
  "UpdateConfig": {
    "Parallelism": 1
  },
  "EndpointSpec": {
    "Ports": [ ]
  },
  "Labels": {
    "traefik.enable" : "true",
    "traefik.docker.network" : "traefik",
    "traefik.http.routers.sop-service.rule" : "Host(`vibroad-latest.ttran.de`) && PathPrefix(`/api`)",
    "traefik.http.routers.sop-service.entrypoints" : "websecure",
    "traefik.http.routers.sop-service.tls" : "true",
    "traefik.http.routers.sop-service.tls.certresolver" : "le",
    "traefik.http.routers.sop-service-insecure.rule" : "Host(`vibroad-latest.ttran.de`) && PathPrefix(`/api`)",
    "traefik.http.routers.sop-service-insecure.entrypoints" : "web",
    "traefik.http.routers.sop-service-insecure.middlewares" : "redirect",
    "traefik.http.services.sop-service.loadbalancer.server.port" : "8080"
  }
}